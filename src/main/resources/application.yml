server:
  port: 8083

spring:
  application:
    name: user-service

  # 数据源配置
  datasource:
    url: jdbc:mysql://localhost:3306/match_engine?useUnicode=true&characterEncoding=utf8&serverTimezone=Asia/Shanghai
    username: root
    password: root
    driver-class-name: com.mysql.cj.jdbc.Driver

  # JPA 配置
  jpa:
    hibernate:
      ddl-auto: update
    show-sql: false
    naming:
      physical-strategy: org.hibernate.boot.model.naming.SnakeCasePhysicalNamingStrategy
    properties:
      hibernate:
        dialect: org.hibernate.dialect.MySQLDialect

  # Redis 配置
  data:
    redis:
      host: localhost
      port: 6379
      database: 0
      timeout: 3000ms
      lettuce:
        pool:
          max-active: 8
          max-idle: 8
          min-idle: 2

# JWT 配置
jwt:
  secret: match-engine-secret-key-change-in-production-very-long-secret-key
  access-token-expiration: 7200     # 2 小时（秒）
  refresh-token-expiration: 604800  # 7 天（秒）

# 密码配置
password:
  min-length: 8
  max-length: 32
  require-uppercase: true
  require-lowercase: true
  require-digit: true
  require-special-char: false
  bcrypt-strength: 12

# 限流配置
rate-limit:
  # 登录限流
  login:
    max-attempts: 5
    lock-minutes: 15
    per-minute: 10

  # 注册限流
  register:
    per-ip: 3
    per-email: 5

  # API 限流
  api:
    requests-per-second: 100
    burst-capacity: 200

# 验证码配置
verification:
  code-length: 6
  code-expire-minutes: 5
  max-send-times: 5

# OAuth 配置
oauth:
  google:
    client-id: your-google-client-id
    client-secret: your-google-secret

# 用户默认配置
user:
  default-status: ACTIVE
  default-role: USER
  max-devices-per-user: 10
